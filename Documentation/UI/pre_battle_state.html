<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Namespace: pre_battle_state</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Namespace: pre_battle_state</h1>

    




<section>

<header>
    
        <h2>pre_battle_state</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Handles the battle socket connection to the meta server, and allows the player to establish their loadout for the upcoming battle.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".battle_end"><span class="type-signature">(static) </span>battle_end<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Handles closing of the battle websocket, returns the user to the main menu
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line310">line 310</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".battle_message"><span class="type-signature">(static) </span>battle_message<span class="signature">(message)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Message received from the meta-server along the battle_socket.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">JSON object containing a data attribute which has the message type and message within.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line255">line 255</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".battle_start"><span class="type-signature">(static) </span>battle_start<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    The player is ready to start the fight (or time has expired), send their chosen loadout to the meta server.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line196">line 196</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".decrease_roll"><span class="type-signature">(static) </span>decrease_roll<span class="signature">(type)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Decreases the roll percentage corresponding to type by 5%
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The card category we want to decrease the roll for</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line646">line 646</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".increase_roll"><span class="type-signature">(static) </span>increase_roll<span class="signature">(type)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Increases the roll percentage corresponding to type by 5%
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The card category we want to increase the roll for</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line614">line 614</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".init_card_selectors"><span class="type-signature">(static) </span>init_card_selectors<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Initialize the display groups for each card category the player uses to switch the current card in a slot.
Each selector contains all cards within its category, as well as a banner with the category name. Each card
in the selector is given a callback to handle changing the card of the slot that opened the selector.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line376">line 376</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".init_cards"><span class="type-signature">(static) </span>init_cards<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Put the first 3 cards of each type into their slots, render them to the canvas.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line339">line 339</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".init_triggers"><span class="type-signature">(static) </span>init_triggers<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Put default triggers in place for each card and render the text for each.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line463">line 463</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".next_trigger"><span class="type-signature">(static) </span>next_trigger<span class="signature">(trigger_slot, card_type)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Iterate through the trigger array to find the next value, looping back to the beginning if necessary. Update the text on screen.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>trigger_slot</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">0, 1, or 2. Determines which slot for the given category is being updated.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>card_type</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Attack, Defense, or Mobility, determines the category of card the trigger is attached to.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line500">line 500</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".ping_server"><span class="type-signature">(static) </span>ping_server<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Send a message of type 'ping' to the meta-server to keep the websocket connection alive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line245">line 245</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".previous_trigger"><span class="type-signature">(static) </span>previous_trigger<span class="signature">(trigger_slot, card_type)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Iterate through the trigger array to find the previous value, looping to the end if necessary. Update the text on screen.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>trigger_slot</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">0, 1, or 2. Determines which slot for the given category is being updated.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>card_type</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Attack, Defense, or Mobility, determines the category of card the trigger is attached to.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line560">line 560</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".selector_card_click"><span class="type-signature">(static) </span>selector_card_click<span class="signature">(target)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Handles the user clicking on a card in a selector menu. Assigns the clicked card to a slot and renders it.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>target</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Event target, should be a card within a card selector</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line810">line 810</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".selector_card_wrapper"><span class="type-signature">(static) </span>selector_card_wrapper<span class="signature">(card_data, card_num, card_list_index)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Takes a card JSON object and its place in the sequence of Cards within its category, and returns a constructed Card that
is in the proper slot within the category's card selector.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>card_data</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Card JSON data</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>card_num</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The index in which the card appears amongst all cards within its type, also its location within the selector</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>card_list_index</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The index in which the card appears amongst all cards the player has</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line759">line 759</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".slot_card_click"><span class="type-signature">(static) </span>slot_card_click<span class="signature">(target)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Set the current_slot and current_type attributes and then open the card selector group for that card type.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>target</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The target of the click event, should be a card object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line732">line 732</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".slot_card_wrapper"><span class="type-signature">(static) </span>slot_card_wrapper<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Takes a card slot and type and renders that card on screen.
Locations of the cards on screen is determined by their type and slot, doesn't need to be passed.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line679">line 679</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".update_timer"><span class="type-signature">(static) </span>update_timer<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Update the timer on screen, send the user's loadout as-is when the timer reaches 0.
Ping the meta-server when the time remaining is a multiple of 20.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pre_battle_state.js.html">pre_battle_state.js</a>, <a href="pre_battle_state.js.html#line318">line 318</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="battle_system_state.html">battle_system_state</a></li><li><a href="credit_state.html">credit_state</a></li><li><a href="debug_console.html">debug_console</a></li><li><a href="gear_menu_state.html">gear_menu_state</a></li><li><a href="load_state.html">load_state</a></li><li><a href="main_menu_state.html">main_menu_state</a></li><li><a href="match_up_state.html">match_up_state</a></li><li><a href="pick_state.html">pick_state</a></li><li><a href="pre_battle_state.html">pre_battle_state</a></li><li><a href="server.html">server</a></li><li><a href="signin_state.html">signin_state</a></li><li><a href="signup_state.html">signup_state</a></li><li><a href="user.html">user</a></li></ul><h3>Global</h3><ul><li><a href="global.html#attack">attack</a></li><li><a href="global.html#attackClose">attackClose</a></li><li><a href="global.html#attackFar">attackFar</a></li><li><a href="global.html#battleData">battleData</a></li><li><a href="global.html#battleLoop">battleLoop</a></li><li><a href="global.html#block">block</a></li><li><a href="global.html#card">card</a></li><li><a href="global.html#creditText">creditText</a></li><li><a href="global.html#die">die</a></li><li><a href="global.html#game">game</a></li><li><a href="global.html#heal">heal</a></li><li><a href="global.html#logout_btn_click">logout_btn_click</a></li><li><a href="global.html#MatchOver">MatchOver</a></li><li><a href="global.html#movePlayer">movePlayer</a></li><li><a href="global.html#nouns">nouns</a></li><li><a href="global.html#pickCharacter">pickCharacter</a></li><li><a href="global.html#pickCharM">pickCharM</a></li><li><a href="global.html#pickCharT">pickCharT</a></li><li><a href="global.html#pickCharW">pickCharW</a></li><li><a href="global.html#pickCharWeapon">pickCharWeapon</a></li><li><a href="global.html#playSim">playSim</a></li><li><a href="global.html#randomInt">randomInt</a></li><li><a href="global.html#randomName">randomName</a></li><li><a href="global.html#rematch_btn_click">rematch_btn_click</a></li><li><a href="global.html#setPlayerLoc">setPlayerLoc</a></li><li><a href="global.html#setPlayerNumber">setPlayerNumber</a></li><li><a href="global.html#signin_btn_click">signin_btn_click</a></li><li><a href="global.html#signup_btn_click">signup_btn_click</a></li><li><a href="global.html#win">win</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Apr 06 2017 18:23:09 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>